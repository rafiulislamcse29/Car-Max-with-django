{% extends "base.html" %}
{% load static %}
{% block title %}Profile{% endblock %} 

{% block content%}
{% load crispy_forms_tags %}

<section class='py-5 '>
  <div class="container py-5">
    {% comment %} <h2 class="text-center mb-5">Profile page</h2> {% endcomment %}
    <div class="row gx-5">
     
      <div class="col-4" >
        <h3 class="text-center mb-5">My Profile</h3>      
        <div class='shadow py-4 px-2' style='height:40vh'>
         <div class='d-flex flex-column gap-3'>
          <a  href="{% url 'profile' %}" class='bg-info p-2 rounded text-decoration-none text-dark'>Personal Information</a>
          <a href="{% url 'edit_profile' %}" class='bg-info p-2 rounded text-decoration-none text-dark'>Edit Profile</a>
          <a href="{% url 'pass_chnage' %}" class='bg-info p-2 rounded text-decoration-none text-dark'>Chnage Password</a>
          <a href="{% url 'show_orders' %}" class='bg-info p-2 rounded text-decoration-none text-dark'>Order History</a>
         </div>
        </div>
      </div>
      <div class="col-8">
        <div class='d-flex flex-column gap-2'>
          <h3 class="text-center ">Personal Information</h3>
          <div class='d-flex justify-content-center gap-1' >
            <img style='width:150px;height:150px' src={% static 'user.png'%}/>
          </div>
          <div class='d-flex flex-column gap-1' >
            <span>Username</span>
            <span class='bg-info p-2 rounded'>{{request.user.username}}</span>
          </div>
          <div class='d-flex flex-column gap-1' >
            <span>Name</span>
            <span class='bg-info p-2 rounded'>{{request.user.first_name}} {{request.user.last_name}}</span>
          </div>
          <div class='d-flex flex-column gap-1' >
            <span>Email</span>
            <span class='bg-info p-2 rounded'>{{request.user.email}} </span>
          </div>
        </div>
      </div>
    </div>
  </div>

</section>

{% comment %} <div class="container mt-5">
  <h6 class='py-3'> Total orders :   {{orders|length}}</h6>
  <div class="d-flex flex-wrap gap-5 justify-content-center">
    {%for order in orders%}
      <div class="card" style="width: 18rem;">
          <img class="card-img-top " src="{{order.car.image.url}}" alt="{{car.name}}" style='height:10rem'>
          <div class="card-body " >
            <h5 class="card-title">
              <h6> Order Id : {{order.id}}</h6>
              <a href="{%url 'car_details' order.car.id%}" class="text-decoration-none">{{order.car.name}}</a>
            </h5>
            <p class="card-text " style="text-align: justify;">{{order.car.description | truncatechars:50}}</p>
            <p>
              <span> Brand:</span> <span class='text-secondary p-1 rounded'>{{order.car.brand}}</span>
            </p>
            <p>
          <div class='d-flex justify-content-between align-items-center'>
           <p>
            <span> Price:</span> <span class='text-danger'>{{order.car.price}}$</span>
           </p>
           <p>
           <a  href="{%url 'car_details' order.car.id%}"  class=" d-block btn btn-outline-info ">view</a> 
           </p>
          </div> 
          </div>
        </div>
    {% endfor %}
  </div>
</div> {% endcomment %}
{% endblock %}